# 图片增强工具集合

这是一个包含多种图片增强技术的工具集合，支持Pixi.js和Waifu2x两种不同的增强方式。

## 🎨 工具列表

### 1. Pixi.js 图片增强工具 (`index.html`)
- **技术**: 基于Pixi.js的WebGL加速图片处理
- **特点**: 快速处理，支持锐化、亮度、对比度调整
- **适用**: 一般图片增强需求

### 2. Waifu2x 图片增强工具 (`waifu2x.html`)
- **技术**: 模拟Waifu2x深度学习算法
- **特点**: 专门针对动漫风格图片优化
- **适用**: 动漫图片、插画等艺术风格图片

### 3. 高级Waifu2x工具 (`waifu2x-advanced.html`)
- **技术**: 高级Waifu2x算法实现
- **特点**: 5x5高斯降噪、Sobel边缘检测、拉普拉斯锐化
- **适用**: 专业级图片增强需求

## 🚀 使用方法

### 启动服务器
```bash
# 在项目根目录下启动本地服务器
python3 -m http.server 8000
# 或者使用 Node.js
npx http-server
```

### 访问工具
- **Pixi.js工具**: `http://localhost:8000`
- **Waifu2x工具**: `http://localhost:8000/waifu2x.html`
- **高级Waifu2x工具**: `http://localhost:8000/waifu2x-advanced.html`

## 📊 功能对比

| 功能 | Pixi.js | Waifu2x | 高级Waifu2x |
|------|---------|---------|-------------|
| 图片放大 | ✅ 1-4倍 | ✅ 1-4倍 | ✅ 1-4倍 |
| 锐化处理 | ✅ 基础锐化 | ✅ 智能锐化 | ✅ 拉普拉斯锐化 |
| 降噪处理 | ❌ | ✅ 基础降噪 | ✅ 5x5高斯降噪 |
| 边缘增强 | ❌ | ✅ 基础边缘 | ✅ Sobel边缘检测 |
| 颜色增强 | ✅ 亮度对比度 | ✅ 基础颜色 | ✅ 饱和度增强 |
| 处理速度 | ⚡ 快速 | 🐌 中等 | 🐌 较慢 |
| 效果质量 | 🟡 良好 | 🟢 优秀 | 🟢 专业级 |

## 🎯 选择建议

### 使用Pixi.js工具的场景
- 需要快速处理大量图片
- 对处理速度要求较高
- 一般性的图片增强需求
- 实时预览和调整

### 使用Waifu2x工具的场景
- 动漫风格图片处理
- 插画和艺术作品
- 需要更好的细节保留
- 对图片质量要求较高

### 使用高级Waifu2x工具的场景
- 专业级图片处理
- 需要最精细的控制
- 对算法效果要求极高
- 有充足的处理时间

## 🔧 技术实现

### Pixi.js工具
- **核心技术**: WebGL硬件加速
- **算法**: 卷积锐化、颜色矩阵调整
- **优势**: 处理速度快，兼容性好

### Waifu2x工具
- **核心技术**: Canvas像素级处理
- **算法**: 模拟深度学习增强
- **优势**: 效果自然，适合艺术图片

### 高级Waifu2x工具
- **核心技术**: 多步算法处理
- **算法**: 
  - 5x5高斯降噪
  - Sobel边缘检测
  - 拉普拉斯锐化
  - 颜色饱和度增强
- **优势**: 效果最专业，控制最精细

## 📁 文件结构

```
img-ops/
├── 1.jpg                    # 原始图片
├── index.html               # Pixi.js工具
├── enhancer.js              # Pixi.js增强逻辑
├── waifu2x.html            # Waifu2x工具
├── waifu2x.js              # Waifu2x增强逻辑
├── waifu2x-advanced.html   # 高级Waifu2x工具
├── waifu2x-advanced.js     # 高级Waifu2x增强逻辑
└── README.md               # 说明文档
```

## 🌟 特色功能

### 实时预览
- 左右对比显示原图和增强图
- 实时调整参数效果
- 进度条显示处理状态

### 智能算法
- 自适应参数调整
- 多模型支持（动漫/照片）
- 质量等级选择

### 一键下载
- 高质量JPEG输出
- 自动命名（2.jpg）
- 浏览器原生下载

## 🔍 算法详解

### 5x5高斯降噪
```javascript
// 使用5x5高斯核进行智能降噪
const kernel = [
    [1, 4, 6, 4, 1],
    [4, 16, 24, 16, 4],
    [6, 24, 36, 24, 6],
    [4, 16, 24, 16, 4],
    [1, 4, 6, 4, 1]
];
```

### Sobel边缘检测
```javascript
// 计算X和Y方向的梯度
const gx = right - left;
const gy = bottom - top;
const magnitude = Math.sqrt(gx * gx + gy * gy);
```

### 拉普拉斯锐化
```javascript
// 使用拉普拉斯算子进行锐化
const sharpened = center + (center - avgNeighbor) * intensity;
```

## 🚨 注意事项

1. **浏览器兼容性**: 需要现代浏览器支持Canvas和WebGL
2. **图片大小**: 大图片处理时间较长，建议先用小图测试
3. **内存使用**: 高级算法会占用较多内存
4. **处理时间**: 高级工具处理时间较长，请耐心等待

## 🛠️ 故障排除

### 图片加载失败
- 检查`1.jpg`文件是否存在
- 确认文件路径正确
- 检查浏览器控制台错误

### 处理速度慢
- 降低放大倍数
- 选择快速处理模式
- 使用较小的原始图片

### 效果不理想
- 尝试不同的模型类型
- 调整算法参数
- 选择合适的质量等级

## 📈 性能优化建议

1. **选择合适的工具**: 根据需求选择最适合的工具
2. **参数调优**: 根据图片特点调整参数
3. **批量处理**: 可以连续处理多张图片
4. **缓存结果**: 处理完成后及时下载保存

## 🔮 未来计划

- [ ] 添加更多深度学习模型
- [ ] 支持批量处理
- [ ] 增加更多滤镜效果
- [ ] 优化处理性能
- [ ] 添加移动端支持 